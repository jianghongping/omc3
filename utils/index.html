

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Utils &mdash; omc3 0.1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Turn-by-Turn" href="../tbt/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> omc3
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../entrypoints/index.html">Main Entrypoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../harpy/index.html">Harpy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../model/index.html">Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optics_measurements/index.html">Optics Measurements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plotting/index.html">Plot-Subfunctions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tbt/index.html">Turn-by-Turn</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-omc3.utils.contexts">Package Content</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-utils-contexts">Module utils.contexts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-utils-iotools">Module utils.iotools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-utils-logging-tools">Module utils.logging tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-utils-outliers">Module utils.outliers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-utils-stats">Module utils.stats</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">omc3</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/utils/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="utils">
<h1>Utils<a class="headerlink" href="#utils" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-omc3.utils.contexts">
<span id="package-content"></span><h2>Package Content<a class="headerlink" href="#module-omc3.utils.contexts" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-utils-contexts">
<h3>Module utils.contexts<a class="headerlink" href="#module-utils-contexts" title="Permalink to this headline">¶</a></h3>
<p>Provides contexts to use.</p>
<dl class="function">
<dt id="omc3.utils.contexts.log_out">
<code class="sig-prename descclassname">omc3.utils.contexts.</code><code class="sig-name descname">log_out</code><span class="sig-paren">(</span><em class="sig-param">stdout=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em>, <em class="sig-param">stderr=&lt;_io.TextIOWrapper name='&lt;stderr&gt;' mode='w' encoding='UTF-8'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#log_out"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.contexts.log_out" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily changes sys.stdout and sys.stderr.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.contexts.silence">
<code class="sig-prename descclassname">omc3.utils.contexts.</code><code class="sig-name descname">silence</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#silence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.contexts.silence" title="Permalink to this definition">¶</a></dt>
<dd><p>Suppress all console output.</p>
<p>sys.stdout and sys.stderr are rerouted to devnull.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.contexts.suppress_exception">
<code class="sig-prename descclassname">omc3.utils.contexts.</code><code class="sig-name descname">suppress_exception</code><span class="sig-paren">(</span><em class="sig-param">exception</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#suppress_exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.contexts.suppress_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Catch exception and ignore it.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.contexts.suppress_warnings">
<code class="sig-prename descclassname">omc3.utils.contexts.</code><code class="sig-name descname">suppress_warnings</code><span class="sig-paren">(</span><em class="sig-param">warning_classes</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#suppress_warnings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.contexts.suppress_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Suppress all warnings of given classes.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.contexts.temporary_dir">
<code class="sig-prename descclassname">omc3.utils.contexts.</code><code class="sig-name descname">temporary_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#temporary_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.contexts.temporary_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a temporary dir and remove it afterwards.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.contexts.temporary_file_path">
<code class="sig-prename descclassname">omc3.utils.contexts.</code><code class="sig-name descname">temporary_file_path</code><span class="sig-paren">(</span><em class="sig-param">content=''</em>, <em class="sig-param">suffix=''</em>, <em class="sig-param">prefix=''</em>, <em class="sig-param">text=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#temporary_file_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.contexts.temporary_file_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns path to temporary file with content.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.contexts.timeit">
<code class="sig-prename descclassname">omc3.utils.contexts.</code><code class="sig-name descname">timeit</code><span class="sig-paren">(</span><em class="sig-param">function</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/contexts.html#timeit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.contexts.timeit" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the time at the end of the context via <code class="docutils literal notranslate"><span class="pre">function</span></code>.</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.iotools"></span><div class="section" id="module-utils-iotools">
<h3>Module utils.iotools<a class="headerlink" href="#module-utils-iotools" title="Permalink to this headline">¶</a></h3>
<p>Created on 1 Jul 2013</p>
<p>utils.iotools.py holds helper functions for input/output issues. This module is not intended to
be executed.</p>
<p>Feel free to use and extend this module.</p>
<dl class="function">
<dt id="omc3.utils.iotools.append_string_to_textfile">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">append_string_to_textfile</code><span class="sig-paren">(</span><em class="sig-param">path_to_textfile</em>, <em class="sig-param">str_to_append</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#append_string_to_textfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.append_string_to_textfile" title="Permalink to this definition">¶</a></dt>
<dd><p>If file does not exist, a new file will be created.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.copy_content_of_dir">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">copy_content_of_dir</code><span class="sig-paren">(</span><em class="sig-param">src_dir</em>, <em class="sig-param">dst_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#copy_content_of_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.copy_content_of_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies all files and directories from src_dir to dst_dir.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.copy_item">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">copy_item</code><span class="sig-paren">(</span><em class="sig-param">src_item</em>, <em class="sig-param">dest</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#copy_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.copy_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies a file or a directory to dest. dest may be a directory.
If src_item is a directory then all containing files and dirs will be copied into dest.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.create_dirs">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">create_dirs</code><span class="sig-paren">(</span><em class="sig-param">path_to_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#create_dirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.create_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates all dirs to path_to_dir if not exists.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.deleteFilesWithoutGitignore">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">deleteFilesWithoutGitignore</code><span class="sig-paren">(</span><em class="sig-param">pathToDirectory</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#deleteFilesWithoutGitignore"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.deleteFilesWithoutGitignore" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all files in the given pathToDirectory except of the file with the name ‘.gitignore’</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>bool -- True if the directory exists and the files are deleted otherwise False.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.delete_content_of_dir">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">delete_content_of_dir</code><span class="sig-paren">(</span><em class="sig-param">path_to_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#delete_content_of_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.delete_content_of_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all folders, files and symbolic links in given directory.
:param string path_to_dir:</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.delete_item">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">delete_item</code><span class="sig-paren">(</span><em class="sig-param">path_to_item</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#delete_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.delete_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the item given by path_to_item. It distinguishes between a file, a directory and a
symbolic link.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.get_all_absolute_filenames_in_dir_and_subdirs">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">get_all_absolute_filenames_in_dir_and_subdirs</code><span class="sig-paren">(</span><em class="sig-param">path_to_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#get_all_absolute_filenames_in_dir_and_subdirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.get_all_absolute_filenames_in_dir_and_subdirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for files(not dirs) in dir and subdirs and returns them as a list.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.get_all_dir_names_in_dir">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">get_all_dir_names_in_dir</code><span class="sig-paren">(</span><em class="sig-param">path_to_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#get_all_dir_names_in_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.get_all_dir_names_in_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for directories in dir and returns them as a list</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.get_all_filenames_in_dir">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">get_all_filenames_in_dir</code><span class="sig-paren">(</span><em class="sig-param">path_to_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#get_all_filenames_in_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.get_all_filenames_in_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for files in dir(not subdir) and returns them as a list</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.get_all_filenames_in_dir_and_subdirs">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">get_all_filenames_in_dir_and_subdirs</code><span class="sig-paren">(</span><em class="sig-param">path_to_dir</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#get_all_filenames_in_dir_and_subdirs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.get_all_filenames_in_dir_and_subdirs" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks for files(not dirs) in dir and subdirs and returns them as a list.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.json_dumps_readable">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">json_dumps_readable</code><span class="sig-paren">(</span><em class="sig-param">json_outfile</em>, <em class="sig-param">object_to_dump</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#json_dumps_readable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.json_dumps_readable" title="Permalink to this definition">¶</a></dt>
<dd><p>This is how you write a beautiful json file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>json_outfile</strong> -- File to write</p></li>
<li><p><strong>object_to_dump</strong> -- object to dump to json format</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.replace_keywords_in_textfile">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">replace_keywords_in_textfile</code><span class="sig-paren">(</span><em class="sig-param">path_to_textfile</em>, <em class="sig-param">dict_for_replacing</em>, <em class="sig-param">new_output_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#replace_keywords_in_textfile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.replace_keywords_in_textfile" title="Permalink to this definition">¶</a></dt>
<dd><p>This function replaces all keywords in a textfile with the corresponding values in the dictionary.
E.g.: A textfile with the content “%(This)s will be replaced!” and the dict {“This”:”xyz”} results
to the change “xyz will be replaced!” in the textfile.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_output_path</strong> -- If new_output_path is None, then the source file will be replaced.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.iotools.write_string_into_new_file">
<code class="sig-prename descclassname">omc3.utils.iotools.</code><code class="sig-name descname">write_string_into_new_file</code><span class="sig-paren">(</span><em class="sig-param">path_to_textfile</em>, <em class="sig-param">str_to_insert</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/iotools.html#write_string_into_new_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.iotools.write_string_into_new_file" title="Permalink to this definition">¶</a></dt>
<dd><p>An existing file will be truncated.</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.logging_tools"></span><div class="section" id="module-utils-logging-tools">
<h3>Module utils.logging tools<a class="headerlink" href="#module-utils-logging-tools" title="Permalink to this headline">¶</a></h3>
<p>Functions for easier use of logging, like automatic logger setup
(see: <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_logger()</span></code>).</p>
<dl class="class">
<dt id="omc3.utils.logging_tools.DebugMode">
<em class="property">class </em><code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">DebugMode</code><span class="sig-paren">(</span><em class="sig-param">active=True</em>, <em class="sig-param">log_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#DebugMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.DebugMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Context Manager for the debug mode.</p>
<p>Hint: Does not work with &#64;contextmanager from contextlib (even though nicer code),
as the _get_caller would find the contextlib.py</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>active</strong> (<em>bool</em>) -- Defines if this manager is doing anything. (Default: <code class="docutils literal notranslate"><span class="pre">True</span></code>)</p></li>
<li><p><strong>log_file</strong> (<em>str</em>) -- File to log into.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="omc3.utils.logging_tools.MaxFilter">
<em class="property">class </em><code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">MaxFilter</code><span class="sig-paren">(</span><em class="sig-param">level</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#MaxFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.MaxFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>To get messages only up to a certain level</p>
</dd></dl>

<dl class="class">
<dt id="omc3.utils.logging_tools.TempFile">
<em class="property">class </em><code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">TempFile</code><span class="sig-paren">(</span><em class="sig-param">file_path</em>, <em class="sig-param">log_func</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#TempFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.TempFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Context Manager.
Lets another function write into a temporary file and logs its contents.</p>
<p>It won’t open the file though, so only the files path is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_path</strong> (<em>str</em>) -- Place to write the tempfile to.</p></li>
<li><p><strong>log_func</strong> (<em>func</em>) -- The function with which the content should be logged (e.g. LOG.info)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="omc3.utils.logging_tools.TempStringLogger">
<em class="property">class </em><code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">TempStringLogger</code><span class="sig-paren">(</span><em class="sig-param">module=None</em>, <em class="sig-param">level=20</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#TempStringLogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.TempStringLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporarily log into a string that can be retrieved by get_log</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>module</strong> -- module to log, default: caller file.</p></li>
<li><p><strong>level</strong> -- logging level, default INFO.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="omc3.utils.logging_tools.TempStringLogger.get_log">
<code class="sig-name descname">get_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#TempStringLogger.get_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.TempStringLogger.get_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the log as string.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.add_module_handler">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">add_module_handler</code><span class="sig-paren">(</span><em class="sig-param">handler</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#add_module_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.add_module_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add handler at current module level</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.add_root_handler">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">add_root_handler</code><span class="sig-paren">(</span><em class="sig-param">handler</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#add_root_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.add_root_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Add handler at root level</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.file_handler">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">file_handler</code><span class="sig-paren">(</span><em class="sig-param">logfile</em>, <em class="sig-param">level=10</em>, <em class="sig-param">fmt='%(levelname)7s | %(message)s | %(name)s'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#file_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.file_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function so the caller does not have to import logging</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.getLogger">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">getLogger</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#getLogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.getLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function so the caller does not have to import logging</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.get_logger">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">get_logger</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">level_root=10</em>, <em class="sig-param">level_console=20</em>, <em class="sig-param">fmt='%(levelname)7s | %(message)s | %(name)s'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#get_logger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.get_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets up logger if name is __main__. Returns logger based on module name)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> -- only used to check if __name__ is __main__</p></li>
<li><p><strong>level_root</strong> -- main logging level, default DEBUG</p></li>
<li><p><strong>level_console</strong> -- console logging level, default INFO</p></li>
<li><p><strong>fmt</strong> -- Format of the logging. For default see BASIC_FORMAT</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Logger instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.get_my_logger_name">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">get_my_logger_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#get_my_logger_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.get_my_logger_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the logger name for the caller.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.log_pandas_settings_with_copy">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">log_pandas_settings_with_copy</code><span class="sig-paren">(</span><em class="sig-param">log_func</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#log_pandas_settings_with_copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.log_pandas_settings_with_copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs pandas SettingsWithCopy warning to loc_func instead of printing the warning.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.logging_silence">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">logging_silence</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#logging_silence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.logging_silence" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove temporarily all loggers from root logger.</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.stream_handler">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">stream_handler</code><span class="sig-paren">(</span><em class="sig-param">stream=&lt;_io.TextIOWrapper name='&lt;stdout&gt;' mode='w' encoding='UTF-8'&gt;</em>, <em class="sig-param">level=10</em>, <em class="sig-param">fmt='%(levelname)7s | %(message)s | %(name)s'</em>, <em class="sig-param">max_level=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#stream_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.stream_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function so the caller does not have to import logging</p>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.logging_tools.unformatted_console_logging">
<code class="sig-prename descclassname">omc3.utils.logging_tools.</code><code class="sig-name descname">unformatted_console_logging</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/logging_tools.html#unformatted_console_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.logging_tools.unformatted_console_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Log only to console and only unformatted.</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.outliers"></span><div class="section" id="module-utils-outliers">
<h3>Module utils.outliers<a class="headerlink" href="#module-utils-outliers" title="Permalink to this headline">¶</a></h3>
<p>Created on 08/05/17</p>
<dl class="field-list simple">
<dt class="field-odd">author</dt>
<dd class="field-odd"><p>Lukas Malina</p>
</dd>
</dl>
<dl class="function">
<dt id="omc3.utils.outliers.get_filter_mask">
<code class="sig-prename descclassname">omc3.utils.outliers.</code><code class="sig-name descname">get_filter_mask</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">x_data=None</em>, <em class="sig-param">limit=0.0</em>, <em class="sig-param">niter=20</em>, <em class="sig-param">nsig=None</em>, <em class="sig-param">mask=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/outliers.html#get_filter_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.outliers.get_filter_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>It filters the array of values which are meant to be constant
or a linear function of the other array if that is provided
Returns a filter mask for the original array</p>
</dd></dl>

</div>
<span class="target" id="module-omc3.utils.stats"></span><div class="section" id="module-utils-stats">
<h3>Module utils.stats<a class="headerlink" href="#module-utils-stats" title="Permalink to this headline">¶</a></h3>
<p>Created on 03.07.18</p>
<dl class="field-list simple">
<dt class="field-odd">author</dt>
<dd class="field-odd"><p>Lukas Malina</p>
</dd>
</dl>
<dl class="simple">
<dt>Provides statistical methods to compute:</dt><dd><p>various weighted averages along specified axis and their errors
unbiased error estimator of infinite normal distribution from finite-sized sample</p>
</dd>
</dl>
<p>TODO use weighted average and its error in circular calculations
TODO write tests
TODO LOGGER or Raising error and warnings?
TODO if zeros or nans occur in errors, fallback to uniform weights only in affected cases</p>
<dl class="function">
<dt id="omc3.utils.stats.circular_error">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">circular_error</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">period=6.283185307179586</em>, <em class="sig-param">errors=None</em>, <em class="sig-param">axis=None</em>, <em class="sig-param">t_value_corr=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#circular_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.circular_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes error of weighted circular average along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>period</strong> -- scalar, optional
Periodicity period of data, default is (2 * np.pi)</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
<li><p><strong>t_value_corr</strong> -- bool, optional
Species if the error is corrected for small sample size, default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.stats.circular_mean">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">circular_mean</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">period=6.283185307179586</em>, <em class="sig-param">errors=None</em>, <em class="sig-param">axis=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#circular_mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.circular_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes weighted circular average along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>period</strong> -- scalar, optional, default (2 * np.pi)
Periodicity period of data</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.stats.effective_sample_size">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">effective_sample_size</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">weights</em>, <em class="sig-param">axis=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#effective_sample_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.effective_sample_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes effective sample size of weighted data along specifies axis,
the minimum value returned is 2 to avoid non-reasonable error blow-up</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like</p></li>
<li><p><strong>weights</strong> -- array-like
Contains weights associated with the values in data</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which the effective sample size is computed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.stats.t_value_correction">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">t_value_correction</code><span class="sig-paren">(</span><em class="sig-param">sample_size</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#t_value_correction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.t_value_correction" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the multiplicative correction factor to determine standard deviation of normally
distributed quantity from standard deviation of its finite-sized sample
the minimum allowed sample size is 2 to avoid non-reasonable error blow-up
for smaller sample sizes 2 is used instead</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sample_size</strong> -- array-like</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>multiplicative correction factor(s) of same shape as sample_size</dt><dd><p>can contain nans</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.stats.unbias_variance">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">unbias_variance</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">weights</em>, <em class="sig-param">axis=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#unbias_variance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.unbias_variance" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes a correction factor to unbias variance of weighted average of data along specified axis</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like</p></li>
<li><p><strong>weights</strong> -- array-like
Contains weights associated with the values in data</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which the effective sample size is computed</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.stats.weighted_error">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">weighted_error</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">errors=None</em>, <em class="sig-param">axis=None</em>, <em class="sig-param">t_value_corr=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weighted_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.weighted_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes error of weighted average along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
<li><p><strong>t_value_corr</strong> -- bool, optional
Species if the error is corrected for small sample size, default True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.stats.weighted_mean">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">weighted_mean</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">errors=None</em>, <em class="sig-param">axis=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weighted_mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.weighted_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes weighted average along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the weighted average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.stats.weighted_rms">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">weighted_rms</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">errors=None</em>, <em class="sig-param">axis=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weighted_rms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.weighted_rms" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes weighted root mean square along the specified axis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> -- array-like
Contains the data to be averaged</p></li>
<li><p><strong>errors</strong> -- array-like, optional
Contains errors associated with the values in data, it is used to calculated weights</p></li>
<li><p><strong>axis</strong> -- int or tuple of ints, optional
Axis or axes along which to average data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns weighted root mean square along the specified axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="omc3.utils.stats.weights_from_errors">
<code class="sig-prename descclassname">omc3.utils.stats.</code><code class="sig-name descname">weights_from_errors</code><span class="sig-paren">(</span><em class="sig-param">errors</em>, <em class="sig-param">period=6.283185307179586</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/omc3/utils/stats.html#weights_from_errors"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#omc3.utils.stats.weights_from_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes weights from measurement errors, weights are not output if errors contain zeros or nans</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>errors</strong> -- array-like
Contains errors which are used to calculated weights</p></li>
<li><p><strong>period</strong> -- scalar, optional
Periodicity period of data, default is (2 * np.pi)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Returns the error of weighted circular average along the specified axis.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../tbt/index.html" class="btn btn-neutral float-left" title="Turn-by-Turn" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>